#Using a minimal python environment
mamba create --name per_test python=3.8
mamba activate per_test
mamba install numpy scipy numba pybind11 zarr astropy xarray

#Using a minimal python environment
mamba create --name per_test_3_11 python=3.11
mamba activate per_test_3_11
pip install numpy scipy numba==0.57.0 pybind11 zarr astropy xarray


'param==1.13.0',
'psutil==5.9.4',
'setuptools==65.6.3',
'Shapely==2.0.1',


mamba install -c conda-forge boosts


#Release the GIL
https://pybind11.readthedocs.io/en/stable/advanced/misc.html#global-interpreter-lock-gil

#Direct Access


#How to get valgrind on macOS
https://github.com/LouisBrunner/valgrind-macos/

brew tap louisbrunner/valgrind   
brew install --HEAD LouisBrunner/valgrind/valgrind
brew upgrade --fetch-HEAD LouisBrunner/valgrind/valgrind

htop -p $(pgrep -f "python main_pybind11.py") -d 1 -u --sort-key PERCENT_MEM --no-color > monitoring.txt

Objectives

Used chatGBT and Bard
Minimal Overhead
No copies (monitor memory)
Wrap an object
Cleanly separate C++ and Python Interface (non-PyBind C++ code can be compiled without PyBind11)


54698400
       600,
        22791,
        2,
        2



